(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{3945:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/[platform]",function(){return e(2841)}])},1761:function(t,n,e){"use strict";e.d(n,{Qp:function(){return o},Ip:function(){return l},s9:function(){return p},kh:function(){return d},_w:function(){return x}});var r=e(4051),c=e.n(r);function a(t,n,e,r,c,a,s){try{var u=t[a](s),o=u.value}catch(i){return void e(i)}u.done?n(o):Promise.resolve(o).then(r,c)}function s(t){return function(){var n=this,e=arguments;return new Promise((function(r,c){var s=t.apply(n,e);function u(t){a(s,r,c,u,o,"next",t)}function o(t){a(s,r,c,u,o,"throw",t)}u(void 0)}))}}var u="http://localhost:1337";function o(t){return i.apply(this,arguments)}function i(){return(i=s(c().mark((function t(n){var e,r,a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e="_limit=".concat(n),"_sort=createdAt:desc",r="".concat(u,"/games?").concat(e,"&").concat("_sort=createdAt:desc"),t.next=6,fetch(r);case 6:return a=t.sent,t.next=9,a.json();case 9:return s=t.sent,t.abrupt("return",s);case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function l(t,n,e){return f.apply(this,arguments)}function f(){return(f=s(c().mark((function t(n,e,r){var a,s,o,i,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="_limit=".concat(e),"_sort=createdAt:desc",s="_start=".concat(r),o="".concat(u,"/games?platfom.platfom=").concat(n,"&").concat(a,"&").concat("_sort=createdAt:desc","&").concat(s),t.next=7,fetch(o);case 7:return i=t.sent,t.next=10,i.json();case 10:return l=t.sent,t.abrupt("return",l);case 14:return t.prev=14,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return(h=s(c().mark((function t(n){var e,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e="".concat(u,"/games/count?platfom.platfom=").concat(n),t.next=4,fetch(e);case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent,t.abrupt("return",a);case 11:return t.prev=11,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=s(c().mark((function t(n){var e,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e="".concat(u,"/games?url=").concat(n),t.next=4,fetch(e);case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent,t.abrupt("return",a[0]);case 11:return t.prev=11,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function x(t){return m.apply(this,arguments)}function m(){return(m=s(c().mark((function t(n){var e,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e="".concat(u,"/games?_q=").concat(n),t.next=4,fetch(e);case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent,t.abrupt("return",a);case 11:return t.prev=11,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}},8375:function(t,n,e){"use strict";e.d(n,{Z:function(){return i}});var r=e(5893),c=e(7294),a=e(1664);var s=e(6486),u=e(5775),o=e(7257);function i(t){var n=t.game,e=function(){var t=(0,c.useState)({width:void 0,height:void 0}),n=t[0],e=t[1];return(0,c.useEffect)((function(){var t=function(){e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),n}().width;return(0,r.jsx)("div",{children:(0,r.jsx)(u.Z,{children:(0,r.jsx)(u.Z.Row,{columns:function(){switch(!0){case e>992:return 4;case e>768:return 3;case e>576:return 2;default:return 1}}(),className:"mr-4",children:(0,s.map)(n,(function(t){return(0,r.jsx)(l,{g:t})}))})})})}function l(t){var n=t.g;return(0,r.jsx)(u.Z.Column,{className:"pt-8",children:(0,r.jsx)(a.default,{href:"/".concat(n.url),children:(0,r.jsxs)("a",{className:"hover:bg-black",children:[(0,r.jsxs)("div",{className:"static",children:[(0,r.jsx)(o.Z,{src:n.poster.url,alt:n.title,size:"medium"}),(0,r.jsxs)("div",{children:[n.discount?(0,r.jsxs)("span",{className:"bg-green-500 text-white px-2 font-bold text-lg absolute top-12 right-3",children:["-",n.discount,"%"]}):(0,r.jsx)("span",{}),(0,r.jsxs)("span",{className:"absolute top-20 right-3 text-xl text-white bg-stone-500 bg-opacity-80 px-2",children:["$",n.price]})]})]}),(0,r.jsx)("h3",{className:"md:text-xl text-sm text-stone-600 mt-0 text-center font-bold",children:n.title})]})})})}},2841:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return g}});var r=e(4051),c=e.n(r),a=e(5893),s=e(7294),u=e(1163),o=e(1761),i=e(8375),l=e(3068),f=e(7563);function p(t){var n=t.totalGames,e=t.page,r=t.limit,c=Math.ceil(n/r),s=(0,u.useRouter)(),o=f.parseUrl(s.asPath);return(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"justify-center",children:(0,a.jsx)(l.Z,{defaultActivePage:e,totalPages:c,firstItem:null,lastItem:null,onPageChange:function(t,n){return function(t){o.query.page=t;var n=f.stringifyUrl(o);s.push(n)}(n.activePage)},boundaryRange:0,siblingRange:1,ellipsisItem:null})})})}var h=e(9962),d=e(849),v=e(6486);function x(t,n,e,r,c,a,s){try{var u=t[a](s),o=u.value}catch(i){return void e(i)}u.done?n(o):Promise.resolve(o).then(r,c)}function m(t){return function(){var n=this,e=arguments;return new Promise((function(r,c){var a=t.apply(n,e);function s(t){x(a,r,c,s,u,"next",t)}function u(t){x(a,r,c,s,u,"throw",t)}s(void 0)}))}}function g(){var t=(0,u.useRouter)().query,n=(0,s.useState)(null),e=n[0],r=n[1],l=(0,s.useState)(null),f=l[0],x=l[1],g=function(){var n=parseInt(t.page);return t.page&&1!==n?2*n-2:0};return(0,s.useEffect)((function(){m(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.platform){n.next=5;break}return n.next=3,(0,o.Ip)(t.platform,2,g());case 3:e=n.sent,r(e||null);case 5:case"end":return n.stop()}}),n)})))()}),[t]),(0,s.useEffect)((function(){m(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.platform){n.next=5;break}return n.next=3,(0,o.s9)(t.platform);case 3:e=n.sent,x(e||null);case 5:case"end":return n.stop()}}),n)})))()}),[t]),(0,a.jsx)(h.Z,{children:(0,a.jsxs)("div",{className:"pt-8 ml-4",children:[e&&0===(0,v.size)(e)&&(0,a.jsx)("h2",{children:"No hay juegos"}),!e&&(0,a.jsx)(d.Z,{active:!0,children:" Cargando Juegos "}),e&&(0,v.size)(e)>0&&(0,a.jsx)(i.Z,{game:e}),f?(0,a.jsx)(p,{totalGames:f,page:t.page?parseInt(t.page):1,limit:2}):null]})})}}},function(t){t.O(0,[166,674,962,774,888,179],(function(){return n=3945,t(t.s=n);var n}));var n=t.O();_N_E=n}]);